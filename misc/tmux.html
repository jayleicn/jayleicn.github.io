<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 6.13.1 (455785)"/><meta name="altitude" content="98.00815582275391"/><meta name="author" content="雷杰"/><meta name="created" content="2017-09-08 18:35:45 +0000"/><meta name="latitude" content="35.91439248543044"/><meta name="longitude" content="-79.02343283922585"/><meta name="source" content="desktop.mac"/><meta name="updated" content="2017-09-08 20:35:58 +0000"/><title>Keep your user rights in a reattached tmux session.</title></head><body><div><font style="font-size: 24px;">Keep your user rights in a reattached tmux session.</font></div><div><font style="font-size: 24px;"><br/></font></div><div><br/></div><div>Normally when you ssh out from a machine, and ssh in again, reattach to a detached tmux session, you will lose user piviledge inside the tmux session. e.g. you will get permission denied error when you tried to read your own files.<br/></div><div><br/></div><div><br/></div><div>Here is an instruction form John Sopko, <a href="mailto:sopko@cs.unc.edu">sopko@cs.unc.edu</a></div><div><hr/></div><div>ssh to system<br/></div><div>tmux (start new tmux session)</div><div>unsetenv KRB5CCNAME (tcsh) unset KRB5CCNAME (bash)</div><div>kinit (this gets new tgt with different cache file then ssh session)</div><div>ctl-B d (detatch tmux)</div><div>ctl-d (logout of ssh)</div><div>ssh back to system</div><div>tmux attach -t 0</div><div>aklog (get new token)</div><div><br/></div><div>next time you detach/attach should keep the token for 7 days</div><div><hr/><br/></div><div>I guess this works for screen too, it worth trying if you are using screen instead.</div></body></html>
