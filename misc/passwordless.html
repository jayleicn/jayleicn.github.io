<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 6.11 (454874)"/><meta name="altitude" content="98.32775115966797"/><meta name="author" content="雷杰"/><meta name="created" content="2017-09-07 19:16:32 +0000"/><meta name="latitude" content="35.91428036151325"/><meta name="longitude" content="-79.0235643620243"/><meta name="source" content="desktop.mac"/><meta name="updated" content="2017-09-08 20:37:10 +0000"/><title>password-less login in AFS/Kerberos</title></head><body><div><font style="font-size: 24px;">Password-less login in the CS department maintained servers.</font><br/></div><div><span style="font-size: 14px;"><br/></span></div><div><span style="font-size: 14px;">Add the following lines to your host or local machine  ~/.ssh/config</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;-en-codeblock:true;"><div># enable password-less login</div><div>Host *</div><div>StrictHostKeyChecking no</div><div>GSSAPIAuthentication yes</div><div>GSSAPIDelegateCredentials yes</div></div><div><br/></div><div><span style="font-size: 14px;">To get a </span><span style="font-size: 14px;">Kerberos </span><span style="font-size: 14px;">ticket (valid for 7 days), will prompt for your cs.unc.edu password. @CSX.UNC.EDU is case sensitive.</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;-en-codeblock:true;"><div><span style="font-size: 12px;">local$ kinit -l7d user_name@CSX.UNC.EDU </span></div></div><div><br/></div><div>Then ssh login in to<span style="font-size: 14px;"></span> the servers</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;-en-codeblock:true;"><div><span style="font-size: 12px;">local$ ssh -K user_name@remote_machine</span></div></div><div><br/></div><div>Enjoy! : )</div><div><br/></div><div><br/></div><div>NOTE that due to how Kerberos works, a ticket cache has a limited validity. The “-l7d” parameter gives the ticket a 7 days’ validity, which is the maximum lifetime for machines in our department. So you need to repeat the above command once a week. You can also extend the ticket to a maximum 14 days, check <a href="http://cs.unc.edu/help-article/afs-aklog/">this page</a>.</div><div><br/></div><div>More:</div><div><a href="http://cs.unc.edu/help-article/afs-aklog/">http://cs.unc.edu/help-article/afs-aklog/</a></div><div><a href="http://cs.unc.edu/help-article/afs-file-security/">http://cs.unc.edu/help-article/afs-file-security/</a></div><div><br/></div></body></html>
